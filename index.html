<!DOCTYPE html> <!-- Declares HTML5 document type -->
<html lang="en"> <!-- Root element with English language attribute -->
<head> <!-- Head section for metadata and external resources -->
  <meta charset="UTF-8" /> <!-- Sets character encoding to UTF-8 for universal compatibility -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <!-- Ensures responsive design for mobile devices -->
  <title>Geo Order & Route Tracker - Tanakpur</title> <!-- Page title displayed in browser tab -->

  <!-- ‚úÖ Leaflet CSS --> <!-- Links to Leaflet library for interactive maps -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    crossorigin=""
  /> <!-- Loads Leaflet CSS from CDN with anonymous cross-origin -->

  <!-- ‚úÖ Leaflet Routing Machine CSS --> <!-- Links to Leaflet Routing Machine for route visualization -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css"
  /> <!-- Loads Routing Machine CSS from CDN -->

  <!-- ‚úÖ Custom CSS --> <!-- Links to custom stylesheet for app-specific styling -->
  <link rel="stylesheet" href="style.css" /> <!-- Assumes style.css is in same directory -->

  <!-- ‚úÖ Google Fonts (Inter) --> <!-- Links to Google Fonts for Inter font family -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"> <!-- Loads Inter font weights 400, 600, 700 -->

  <!-- ‚úÖ QR Code Generator Library --> <!-- Links to Qrious library for generating UPI QR codes -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script> <!-- Loads Qrious JS from CDN -->

  <!-- ‚úÖ XLSX Library for Excel Parsing --> <!-- Links to XLSX library for parsing Excel files -->
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script> <!-- Loads XLSX JS from CDN -->
</head>

<body> <!-- Body section for visible content -->
  <div class="app-container"> <!-- Main container for app content -->

    <!-- üß≠ HEADER SECTION --> <!-- Header for title, description, and navigation -->
    <header> <!-- Header tag for semantic structure -->
      <h1>üìç Geo + Order Tracker (Tanakpur)</h1> <!-- Main title with emoji for visual appeal -->
      <p>Search customers, view routes, track your live location, and collect payments</p> <!-- Subtitle describing app purpose -->
      <!-- Admin Panel Button --> <!-- Button to access admin panel -->
      <button id="adminBtn">Admin Panel</button> <!-- Triggers admin.html redirect with password check -->
    </header>

    <!-- üîç INPUT SECTION --> <!-- Section for user input -->
    <section class="input-section"> <!-- Semantic section for search input -->
      <textarea
        id="phoneNumber"
        placeholder="Enter one or more phone numbers separated by commas"
        rows="3"
        aria-label="Enter customer phone numbers"
      ></textarea> <!-- Textarea for entering phone numbers, with accessibility label -->
      <button id="enterBtn">Search</button> <!-- Button to trigger customer search -->
    </section>

    <!-- üßæ RESULTS SECTION --> <!-- Section for displaying search results -->
    <section id="resultsSection"> <!-- Semantic section for customer results -->
      <div id="resultBox" class="result-box"> <!-- Container for result content -->
        <p id="noResults">Enter phone numbers to search for customers...</p> <!-- Placeholder text before search -->
        <!-- Customer cards will be dynamically added here via script.js --> <!-- Container for dynamic customer cards -->
        <div id="customerList" class="customer-list"></div> <!-- Empty div for JavaScript-generated customer list -->
      </div>
    </section>

    <!-- üó∫Ô∏è MAP SECTION --> <!-- Section for interactive map -->
    <section id="mapSection"> <!-- Semantic section for map display -->
      <!-- Map container for Leaflet --> <!-- Container for Leaflet map rendering -->
      <div id="map"></div> <!-- Empty div where Leaflet initializes the map -->
    </section>

    <!-- üïµÔ∏è‚Äç‚ôÇÔ∏è HIDDEN INPUT (used for device location tracking, not visible to user) --> <!-- Hidden input for geolocation -->
    <input type="hidden" id="userLocation" /> <!-- Stores user's live GPS coordinates -->

    <!-- ü¶∂ FOOTER --> <!-- Footer for credits and attribution -->
    <footer> <!-- Footer tag for semantic structure -->
      <p>Powered by OpenStreetMap & Leaflet | Built for Tanakpur Field Delivery System</p> <!-- Credits to tools and context -->
    </footer>
  </div>

  <!-- ‚úÖ LEAFLET JS --> <!-- Links to Leaflet JavaScript library -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    crossorigin=""
  ></script> <!-- Loads Leaflet JS from CDN with anonymous cross-origin -->

  <!-- ‚úÖ LEAFLET ROUTING MACHINE JS (for real road routes) --> <!-- Links to Leaflet Routing Machine JavaScript -->
  <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script> <!-- Loads Routing Machine JS from CDN -->

  <!-- ‚úÖ MAIN APP SCRIPT --> <!-- Links to main app logic -->
  <script src="script.js"></script> <!-- Assumes script.js is in same directory -->

  <!-- ‚úÖ ADMIN BUTTON SCRIPT --> <!-- Inline script for admin button functionality -->
  <script>
    // Admin button click handler
    document.getElementById('adminBtn').addEventListener('click', function() { // Adds click event listener to admin button
      const password = prompt('Enter the admin password:'); // Prompts user for password
      if (password === '1234') { // Checks if password is correct
        window.location.href = 'admin.html'; // Redirects to admin.html if password is 1234
      } else {
        alert('Incorrect password! Access denied.'); // Shows error if password is wrong
      }
    });
  </script>

  <!-- =====================================================
    üí° FUNCTIONALITY OVERVIEW
    -------------------------------------------------------
    1Ô∏è‚É£ Loads 2 Excel files:
        - geolocation data set for tanakpur.xlsx
        - Order List.xlsx

    2Ô∏è‚É£ Allows searching for multiple phone numbers.

    3Ô∏è‚É£ Displays:
        - Customer name, region, address
        - Order List, Price
        - Dynamic UPI QR Code for payment
        - "Delivery Done" button for each customer to hide their order

    4Ô∏è‚É£ Tracks your live device location:
        - Arrow marker shows your position
        - Rotates as device direction changes

    5Ô∏è‚É£ Draws real routes (following streets) using Leaflet Routing Machine.

    6Ô∏è‚É£ Supports multiple customers on same map.

    7Ô∏è‚É£ Admin Panel:
        - Accessible via button in header
        - Password-protected (password: 1234)
        - Links to admin.html for grocery-adding functionality (to be implemented)

    ‚úÖ For UPI Payment QR:
       - Each order card includes QR (auto-generated)
       - Replace YOUR_UPI_ID_HERE in script.js with your real UPI ID privately.
  ====================================================== --> <!-- Updated functionality overview with admin panel details -->
</body>
</html>